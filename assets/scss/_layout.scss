//  Table of Contents:
//
//   1. Mixins
//   2. Global
//   3. Plugins
//   4. Color
//   5. Typography
//   6. Navigation
//   7. Off-canvas
//   8. Layout
//   9. Home
//   10. Menu / Food
//   11. Find Us
//   12. Story
//   13. Hire Us
//   14. Contact
//   15. Page
//   16. Footer


// 1. Mixins
// ---------

@mixin links ($link, $hover) {
  a {
    color: $link;
    &:hover {
      color: $hover;
    }
  }
}

// 2. Global
// ---------

body {
  cursor: default;
  font-kerning: normal;
}

html {
  scroll-behavior: smooth;
}

svg {
  max-width: 100%;
}

::selection {
  background: $primary-color;
  color: $white;
}

:focus {
  outline: 0;
}

.menu .menu-text {
  font-weight: normal;
}

.border-top {
  border-top: 1px solid $light-gray;
}

.border-bottom {
  border-bottom: 1px solid $light-gray;
}

.button {
line-height: 1.4;
}

// 4. Color
// --------

.white {
  color: $white;
  @include links ($medium-gray, $primary-color);
}

.black {
  color: $black;
  @include links ($black, $medium-gray);
  sup {
    color: $medium-gray;
  }
}

.medium-gray {
  color: $medium-gray;
  @include links ($medium-gray, $primary-color);
}

.light-gray {
  color: $light-gray;
}

.primary-color {
  color: get-color(primary);
}

.secondary-color {
  color: get-color(secondary);
}

.primary-background {
  background-color: $dark-blue;
  color: $white;
}

.secondary-background {
  background-color: $grey-blue;
  color: $white;
}

.light-gray-background {
  background-color: $light-gray;
}

.snow-background {
  background-color: #f4f7f8;
}

// 5. Typography
// -------------

strong, b {
font-family: $sans-bold;
}

a {
  transition: color .35s cubic-bezier(.39, .575, .565, 1);
}

.underline {
  border-bottom: 1px solid get-color(primary);
}

.uppercase {
  text-transform: uppercase;
}

@mixin underline-links {
  a {
    border-bottom: 1px solid get-color(primary);
    transition: border-bottom .35s cubic-bezier(.39, .575, .565, 1);
    &:hover {
      border-bottom: 1px solid transparent;
    }
  }
}

@mixin underline-links-invert {
  a {
    border-bottom: 1px solid transparent;
    transition: border-bottom .35s cubic-bezier(.39, .575, .565, 1);
    &:hover {
      border-bottom: 1px solid get-color(primary);
    }
  }
}

p {
  @include underline-links;
}

.text-body {
  @include underline-links;
}

.sans-regular {
  font-family: $sans-regular;
}

.sans-bold {
  font-family: $sans-bold;
}

.serif-regular {
  font-family: $serif-regular;
}

.serif-italic {
  font-family: $serif-italic;
}

.serif-headline {
  font-family: $serif-headline;
}

// X. Header
// ---------

.header {
  .active a {
    border-bottom: 3px solid #3C31D4;
  }
}

.header__top {
  border-bottom: 2px solid $dark-gray;
  font-size: 90%;
}

.header__bottom {
  @include padding(1);
  @include breakpoint(medium) {
  @include padding(1, 1, 1, 1);
  }
}

.header__navigation {
  a {
    border-bottom: 2px solid transparent;
    color: $light-gray;
    &:hover {
      color: $white;
    }
  }
}

.header__social {
  font-family: $serif-italic;
  color: $medium-gray;
  a {
    color: $white;
    &:hover {
      color: $primary-color;
    }
  }
}

.hamburger-inner {
  &,
  &::before,
  &::after {
    background-color: $white;
  }
}

// X. Images
// ---------

.image--feature {
  background-size: cover;
  background-repeat: no-repeat;
  background-position: top right;
  min-height: 25vh;
}

.image--resource {
  box-shadow: 4px 4px 0px $primary-color;
  &.web-resource {
    box-shadow: none;
  }
}

.home ol li p, .home ol {
  font-size: 14px;
}

// X. Offcanvas
// ---------

.offcanvas {
  @include links ($white, $primary-color);
}

.offcanvas p {
  @include links ($white, $primary-color);
  color: $white;
}

.offcanvas .menu .active a {
  color: $primary-color;
}

.offcanvas .menu a, .offcanvas .menu .menu-text {
  padding: 0.5rem 0.25rem;
}

.offcanvas .external {
  a {
    color: $green;
    &:hover {
      color: $white;
    }
  }
}

.offcanvas .icon-socials {
  font-size: 1.5rem;
}

// X. Homepage
//------------

.home__intro {
  // Calculated to line up with the other items in the header like the logo
  // and give a bit more vertical space from the header
  @include padding(2, 2, 1, 2);
}

.home__key_facts {
  // Calculated to be the same as with other sections on the homepage, but
  // accounting for the existing top padding on the cells within
  @include padding(0.5, 1.5, 1.5, 1.5);
  @include breakpoint(medium) {
    @include padding(2, 3, 3, 3);
  }
}

.home__key_fact {
  @extend .h5;
  @extend .sans-regular;
  padding-top: 0;
}

.home__key_fact__stat {
  display: block;
  margin-bottom: 1rem;
  width: auto;
}

.home__key_fact__stat__inner {
  font-size: 2.5rem;
  text-transform: uppercase;
  font-family: $serif-headline;
  padding-bottom: 0.5rem;
  border-bottom: 4px solid $primary-color;
}

.home__featured__post {
  .image {
    margin-bottom: 1rem;
  }

  a {
    color: $black;
    &:hover {
      color: $primary-color;
    }
  }
}

.home__why, .home__featured__posts {
  @include padding(1.5, 0, 1.5, 0);
  @include breakpoint(medium) {
    @include padding(3, 3, 3, 3);
  }
}

// X. News
// ---------

h2 {
  @include links ($black, $primary-color);
}

// X. Sponsors
// -----------

.sponsors {
  color: $medium-gray;
  @include links ($medium-gray, $dark-blue);
}

.sponsors .icon {
  font-size: 3rem;
}

.sponsors .icon-uk-aid {
  font-size: 4rem;
}

.sponsors .icon-tjn {
  font-size: 4rem;
}

// X. Footer
// ---------

footer {
  font-size: 90%;
  @include links ($white, $primary-color);
}

footer .menu .active a {
  color: $primary-color;
}

footer .menu a, footer .menu .menu-text {
  padding: 0.5rem 1rem 0.5rem 0rem;
}

footer .icon {
  font-size: 4rem;
}

.team__members {
  @include links ($black, $primary-color);
}

.external a svg {
  transition: transform 0.25s;
}

.external a:hover svg {
  transform: translate(5px, 0);
}

.guide, .guide-page, .what-we-do, .get-involved, .connect, .latest {
  background-color: #f4f7f8;
}

@mixin aspect-ratio($width, $height) {
  position: relative;
  &:before {
    display: block;
    content: "";
    width: 100%;
    padding-top: ($height / $width) * 100%;
  }
  > .content {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
height: 100%;
width: 100%;
  }
}

.image {
  @include aspect-ratio (16, 9);
  background-size: cover;
  background-position: 50%;
  background-color: $light-gray;
}

.image--square {
  @include aspect-ratio (1, 1);
  background-size: cover;
  background-position: 50%;
  background-color: $light-gray;
}

.shadow {
  transition: box-shadow 0.25s;
  box-shadow: 5px 5px 0px $primary-color;
  &:hover {
  box-shadow: 5px 5px 0px $medium-gray;
  }
}

.shadow--blogs {
  box-shadow: 5px 5px 0px $grey-blue;
}
.shadow--events {
  box-shadow: 5px 5px 0px $green;
}

.page__title {
  @include padding(1.5, null, null, null);
  @include breakpoint(small only) {
    @include padding(1.5, 1.5, 1.5, 1.5);
  }
  @include breakpoint(medium) {
    @include padding(2, null, null, null);
  }

  p {
    font-size: 1.25em;
  }
}

.label--tag {
  background-color: $medium-gray;
  margin-bottom: 1rem;
}
.label--news {
  background-color: $primary-color;
  color: $white;
}
.label--blogs {
  background-color: $grey-blue;
}
.label--events {
  background-color: $green;
  color: $white;
}

$consider: #DB00C9;
$commit: #7F12E0;
$legal: #009BFE;
$systems: #00C7E2;
$data: #1EC16F;
$publish: #1BB0A7;

.guide__page  {
  border-top: 1rem solid $primary-color;
  .shadow {
  box-shadow: 5px 5px 0px $primary-color;
  }
  .question {
  color: $primary-color;
  }
  @include links ($primary-color, $medium-gray);
  p {
    a {
    border-bottom: 1px solid $primary-color;
    transition: border-bottom .35s cubic-bezier(.39, .575, .565, 1);
    &:hover {
      border-bottom: 1px solid transparent;
    }
    }
  }
  .black {
  @include links ($black, $medium-gray);
  }
}

.guide__page--consider  {
  border-top: 1rem solid $consider;
  .shadow {
  box-shadow: 5px 5px 0px $consider;
  }
  .question {
  color: $consider;
  }
  @include links ($consider, $medium-gray);
  p {
    a {
    border-bottom: 1px solid $consider;
    transition: border-bottom .35s cubic-bezier(.39, .575, .565, 1);
    &:hover {
      border-bottom: 1px solid transparent;
    }
    }
  }
  .black {
  @include links ($black, $medium-gray);
  }
  .consider {
  opacity: 1
  }
  .commit {
  opacity: 0.25
  }
  .legal {
  opacity: 0.25
  }
  .systems {
  opacity: 0.25
  }
  .data {
  opacity: 0.25
  }
  .publish {
  opacity: 0.25
  }
}

.guide__page--commit  {
  border-top: 1rem solid $commit;
  .shadow {
  box-shadow: 5px 5px 0px $commit;
  }
  .question {
  color: $commit;
  }
  @include links ($commit, $medium-gray);
  p {
    a {
    border-bottom: 1px solid $commit;
    transition: border-bottom .35s cubic-bezier(.39, .575, .565, 1);
    &:hover {
      border-bottom: 1px solid transparent;
    }
    }
  }
  .black {
  @include links ($black, $medium-gray);
  }
  .consider {
  opacity: 1
  }
  .commit {
  opacity: 1
  }
  .legal {
  opacity: 0.25
  }
  .systems {
  opacity: 0.25
  }
  .data {
  opacity: 0.25
  }
  .publish {
  opacity: 0.25
  }
}

.guide__page--legal  {
  border-top: 1rem solid $legal;
  .shadow {
  box-shadow: 5px 5px 0px $legal;
  }
  .question {
  color: $legal;
  }
  @include links ($legal, $medium-gray);
  p {
    a {
    border-bottom: 1px solid $legal;
    transition: border-bottom .35s cubic-bezier(.39, .575, .565, 1);
    &:hover {
      border-bottom: 1px solid transparent;
    }
    }
  }
  .black {
  @include links ($black, $medium-gray);
  }
  .consider {
  opacity: 1
  }
  .commit {
  opacity: 1
  }
  .legal {
  opacity: 1
  }
  .systems {
  opacity: 0.25
  }
  .data {
  opacity: 0.25
  }
  .publish {
  opacity: 0.25
  }
}

.guide__page--systems  {
  border-top: 1rem solid $systems;
  .shadow {
  box-shadow: 5px 5px 0px $systems;
  }
  .question {
  color: $systems;
  }
  @include links ($systems, $medium-gray);
  p {
    a {
    border-bottom: 1px solid $systems;
    transition: border-bottom .35s cubic-bezier(.39, .575, .565, 1);
    &:hover {
      border-bottom: 1px solid transparent;
    }
    }
  }
  .black {
  @include links ($black, $medium-gray);
  }
  .consider {
  opacity: 1
  }
  .commit {
  opacity: 1
  }
  .legal {
  opacity: 1
  }
  .systems {
  opacity: 1
  }
  .data {
  opacity: 0.25
  }
  .publish {
  opacity: 0.25
  }
}

.guide__page--data  {
  border-top: 1rem solid $data;
  .shadow {
  box-shadow: 5px 5px 0px $data;
  }
  .question {
  color: $data;
  }
  @include links ($data, $medium-gray);
  p {
    a {
    border-bottom: 1px solid $data;
    transition: border-bottom .35s cubic-bezier(.39, .575, .565, 1);
    &:hover {
      border-bottom: 1px solid transparent;
    }
    }
  }
  .black {
  @include links ($black, $medium-gray);
  }
  .consider {
  opacity: 1
  }
  .commit {
  opacity: 1
  }
  .legal {
  opacity: 1
  }
  .systems {
  opacity: 1
  }
  .data {
  opacity: 1
  }
  .publish {
  opacity: 0.25
  }
}

.guide__page--publish  {
  border-top: 1rem solid $publish;
  .shadow {
  box-shadow: 5px 5px 0px $publish;
  }
  .question {
  color: $publish;
  }
  @include links ($publish, $medium-gray);
  p {
    a {
    border-bottom: 1px solid $publish;
    transition: border-bottom .35s cubic-bezier(.39, .575, .565, 1);
    &:hover {
      border-bottom: 1px solid transparent;
    }
    }
  }
  .black {
  @include links ($black, $medium-gray);
  }
  .consider {
  opacity: 1
  }
  .commit {
  opacity: 1
  }
  .legal {
  opacity: 1
  }
  .systems {
  opacity: 1
  }
  .data {
  opacity: 1
  }
  .publish {
  opacity: 1
  }
}


.button.white:hover, .button.white:focus {
background-color:  $white;
}

.guide-pagination-next {
border-radius: 0;
border: 0px solid transparent;
border-left: 4px solid $light-gray;
  transition: all .35s cubic-bezier(.39, .575, .565, 1);
}

.guide-pagination-previous {
border-radius: 0;
border: 0px solid transparent;
border-right: 4px solid $light-gray;
  transition: all .35s cubic-bezier(.39, .575, .565, 1);
}

.guide-pagination--consider:hover {
border-color: $consider;
}

.guide-pagination--commit:hover {
border-color: $commit;
}

.guide-pagination--legal:hover {
border-color: $legal;
}

.guide-pagination--systems:hover {
border-color: $systems;
}

.guide-pagination--data:hover {
border-color: $data;
}

.guide-pagination--publish:hover {
border-color: $publish;
}

.guide-pagination--guide:hover {
border-color: $primary-color;
}

.things-to-consider {
.menu a, .menu .button {
padding: 0.5rem 0rem;
line-height: 1.4;
}
}

.guide-home-content h3 {
padding-top: 3rem;
}

.hexagon {
  fill: #f4f7f8;
  fill-opacity:0;
  transition: all .35s cubic-bezier(.39, .575, .565, 1);
}
.hexagon:hover {
  fill: #f4f7f8;
  fill-opacity:0.6;
}

.guide-page img {
  padding: 2rem 0rem;
}

// X. Posts
// --------
.post {
  .label {
    color: $white;
    margin-right: 1rem;
    &:hover {
      color: rgba($white, 0.75);
    }
  }
}

// X. Leadership Group
.bolg-principles {
  li:not(:last-child) {
    margin-bottom: 1rem
  }
}

// X. Team
// -------
.team-big-image {
  float: right;
  height: 17rem;
  width: 100%;
  background-size: cover;

  @include breakpoint(medium) {
    height: 37rem;
  }

  @media (min-height: 1100px) {
    height: 44rem;
  }
}

.team-connect-methods {
  font-size: 2rem;
}

// X. Framework
// ------------

.framework__page {
  border-top: 1rem solid #7e8da3;
}

// X. Map
// ------
.world-map {
  width: 100%;
  height: 300px;
  @include breakpoint(medium) {
    height: 400px;
  }
  @include breakpoint(large) {
    height: 500px;
  }
  margin-left: auto;
  margin-right: auto;
}

.map-legend {
  font-size: 0.85rem;
  font-family: $serif-regular;
  color: $medium-gray;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  align-items: flex-start;

  @include breakpoint(medium) {
    font-size: 1rem;
  }
}

.map-legend-icon {
  font-family: $sans-bold;
  font-size: 1rem;
  text-align: center;
  vertical-align: middle;
  color: $white;
  margin-right: 1rem;

  // Flexbox settings for alignment with map-legend-text
  flex-grow: 0;
  flex-shrink: 0;
  flex-basis: auto;

  // To position text over the SVG
  display: inline-block;
  position: relative;
  width: 3rem;
  height: 3rem;
  line-height: 3rem;
  .icon-hexagon {
    width: 3rem;
    height: 3rem;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
  }

  @include breakpoint(medium) {
    font-size: 1.25rem;
    width: 4rem;
    height: 4rem;
    line-height: 4rem;
    .icon-hexagon {
      width: 4rem;
      height: 4rem
    }
  }

}

.map-legend-text {
  flex-grow: 1
}

.map-legend-highlight {
  font-size: 1rem;

  @include breakpoint(medium) {
    font-size: 1.25rem;
  }
}

.map-legend-engagement {
  color: $engagement;
}
.map-legend-full {
  color: $full-commitment;
}
.map-legend-partial {
  color: $partial-commitment;
}

.map-filters, .resource-filters {
  label {
    color: $black;
    font-size: 1rem;
    line-height: 1.5rem; // To match the select
  }
  select {
    background: none;
    border: 1px solid; // without a border, vertical alignment looks off
  }
}

// JS will show this when needed, it's not needed at all without JS
.see-all-countries-button {
  display: none;
}

// X. Resources page
// ----------------

// JS will show this when needed
.no-resources-message {
  display: none;
}

// X. Visualisation
// ----------------

// Override Foundation's core styles for definition lists
dl dt{
  margin-top: 0.5rem;
  font-weight: bold;
}
dl dd {
  margin-left: 1rem
}

// Add rule to Foundation table styling to bold header rows
thead tr:first-child th {
  font-weight: bold;
}
